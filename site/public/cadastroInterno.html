<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro interno</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/header.css" />
    <link rel="stylesheet" href="css/footer.css" />
    <link rel="stylesheet" href="css/helpdesk.css">
    <link rel="icon" href="images/icon.png" />
    <link rel="stylesheet" href="css/bot.css">
    <title>Suporte</title>
    <script src="https://kit.fontawesome.com/89d28f01ec.js" crossorigin="anonymous"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <script src="js/api.js" defer></script>
    <link rel="stylesheet" href="css/cadastroInterno.css">
</head>

<body>
    <img src="images/logo.png" alt="" class="logo" id="main" />
    <div class="header">
        <div class="container">
            <ul>
                <!-- <li><a href="index.html#busway"> PRODUTOS </a></li>
                <li><a href="helpdesk.html"> SUPORTE </a></li>
                <li><a href="index.html#about"> SOBRE NÓS </a></li> -->
                <li><a href="login.html"> LOGOUT </a></li>
            </ul>
        </div>
    </div>

    <header id="header">
        <nav class="nav">
            <button class="toggle-menu">
                <span></span>
            </button>
        </nav>
    </header>


    <div id="menu" class="">
        <nav class="main-nav">
            <ul>
                <li>
                    <a href="#">
                        About
                    </a>
                </li>
                <li>
                    <a href="#">
                        Pricing
                    </a>
                </li>

                <li>
                    <a href="#">
                        Contact
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <div id="formCad">
        <label for="ipt_nome">Nome: </label>
        <input type="text" id="ipt_nome"><br>

        <label for="ipt_cnpj">CNPJ: </label>
        <input type="text" id="ipt_cnpj"><br>

        <label for="ipt_cnpj">CPF: </label>
        <input type="text" id="ipt_cpf"><br>
       
        <label for="ipt_representante">Representante: </label>
        <input type="text" id="ipt_representante"><br>

        <label for="ipt_email">E-mail: </label>
        <input type="text" id="ipt_email"><br>

        <label for="ipt_senha">Senha: </label>
        <input type="text" id="ipt_senha"><br>

        <label for="ipt_ramo">Ramo: </label>
        <select name="nameRamo" id="ipt_ramo">
            <option value="Tranporte Aéreo">Aeroporto</option>
            <option value="Tranporte de Onibus">Ônibus</option>
        </select><br>

        <button onclick="cadastrar()">Cadastrar</button>
    </div>
    <footer>
        <div class="paiFooter">
            <div class="redes">
                <h2>Redes Sociais</h2>
                <ul>
                    <li>
                        <a href="https://twitter.com" target="_blank">
                            <i class="fa-brands fa-square-twitter fa-2xl"></i>Twitter
                        </a>
                    </li>
                    <li>
                        <a href="https://instagram.com" target="_blank">
                            <i class="fa-brands fa-square-instagram fa-2xl"></i>Instagram
                        </a>
                    </li>
                    <li>
                        <a href="https://facebook.com" target="_blank">
                            <i class="fa-brands fa-square-facebook fa-2xl"></i>Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com" target="_blank">
                            <i class="fa-brands fa-linkedin fa-2xl"></i>Linkedin
                        </a>
                    </li>
                </ul>
            </div>

            <div class="acesso">
                <h2>Acesso Rápido</h2>
                <ul>
                    <li><a href="index.html">Página Inicial</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="cadastro.html">Cadastro</a></li>
                    <li><a href="">Suporte</a></li>
                </ul>
            </div>

            <div class="contato">
                <h2 id="contato">Contato</h2>
                <ul>
                    <li>
                        <a href="https://api.whatsapp.com/send?phone=5511985618695" target="_blank">
                            <i class="fa-brands fa-square-whatsapp fa-2xl"></i>(11) 98561-8695
                        </a>
                    </li>
                    <li>
                        <i class="fa-solid fa-square-phone fa-2xl"></i>(11) 5448-0817
                    </li>
                    <li>
                        <a href="mailto:conway.enterprise@gmail.com" target="_blank">
                            <i class="fa-solid fa-square-envelope fa-2xl"></i>conway.enterprise@gmail.com
                        </a>
                    </li>
                    <li>
                        <a href="https://www.google.com/maps/place/Rua+Haddock+Lobo,+595+-+Cerqueira+César,+São+Paulo+-+SP,+01414-001/@-23.5581662,-46.661538,17z/data=!3m1!4b1!4m6!3m5!1s0x94ce59d2a5270055:0x3c7ea4f4c7d51fb6!8m2!3d-23.5581662!4d-46.661538!16s%2Fg%2F11b8v86f6p"
                            target="_blank">
                            <i class="fa-solid fa-location-dot fa-2xl"></i>Rua Hadddock Lobo, 595 - São Paulo, SP
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </footer>
</body>

</html>
<script>
    function cadastrar() {
        var nome = ipt_nome.value;
        var cnpj = ipt_cnpj.value;
        var representante = ipt_representante.value;
        var email = ipt_email.value;
        var senha = ipt_senha.value;
        var ramo = ipt_ramo.value;
        var cpf = ipt_cpf.value;

        if (nome == null || cpf == null || cnpj == null || representante == null || email == null || senha == null || ramo == null) {
            alert("Erro: campo não inserido")
        } else {
            fetch("/interno/cadastrar", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    // crie um atributo que recebe o valor recuperado aqui
                    // Agora vá para o arquivo routes/usuario.js
                    nomeServer: nome,
                    emailServer: email,
                    senhaServer: senha,
                    cnpjServer: cnpj,
                    nomeRepresentanteServer: representante,
                    ramoServer: ramo, 
                    cpfServer: cpf
                }),
            }).then((res) => {
                if (res.status != 500 && res.status != 400) {
                    alert("Cadastro realizado com sucesso!")
                }
                else {
                    alert("Erro ao realizar o cadastro! Tente novamente.")
                }
            }
            )
        }
    }

    const header = document.querySelector(".header");
  window.addEventListener ("scroll", function() {
    header.classList.toggle ("sticky", window.scrollY > 100);
  });
</script>